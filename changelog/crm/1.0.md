## Regular changes

### Project

### [AdminModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Added support for ajax-based filtering in select2 elements. remp/crm#2359
  - Add `data-ajax-url` to enable the feature. Endpoint should return JSON-array containing objects with `key` and `value` properties.

### [ApiModule]

- **BREAKING**: Changed HTTP response code for incorrect API endpoints from 501 (not implemented) to 404 (not found).
  - The HTTP 501 is meant to be used when server doesn't recognize request method (GET/POST/PATCH/etc), not the endpoint.
- Added `tomaj/nette-api` as a dependency for the module.
  - All changes are described in [MIGRATION.md](https://github.com/remp2020/crm-application-module/blob/master/MIGRATION.md#nette-api).
- Changed translation files. remp/crm#2276
  - Use double quotes around one single quote.
  - Added missing CZ translations from [ApplicationModule].
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [AppleAppstoreModule]

- Added handling of subscription type selection for trial subscriptions. remp2020/crm-apple-appstore-module#1
  - Non-trial subscriptions now honour "next subscription type" setting of the subscription type.
- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Added fallback when processing `DID_CHANGE_RENEWAL_STATUS` notification type. In case of missing payment, new payment is created. remp/heldpesk#1130
- Fixed "Missing original transaction ID" error generated by user data check. remp/crm#2323
  - Apple payment metadata were incorrectly checked also for unfinished payments.
- Fixed log message about already logged appstore's notification due to the shared memory of webhook handler. remp/crm#2321
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [ApplicationModule]

- **BREAKING**: Removed deprecated handling of `utm_params` in favor of `rtm_params`. remp/crm#2354
  - This change was handled by REMP tools internally since December 2020 and UTM params were already deprecated. 
- Changed redirect behaviour when doing autologin for POST requests in `FrontendPresenter`. remp/crm#2177 
  - `POST` requests are not redirected anymore to avoid stripping POST parameters (redirect is done using `GET`).
- Fixed `WeekScale` wrong last week of the year usage. E.g. 2021-01-01 was interpreted as week nr. 53 of 2021.
- Added `FrontendRequestEvent` which is emitted for every action of presenters extending `FrontendPresenter`. remp/crm#2273
- Added `symfony/yaml` to support use of YAML files for translation strings. remp/crm#2276
- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Move misplaced CZ translations into [AdminModule].
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Updated `latte/latte` to v2.11. remp/crm#2335
  - This version triggers deprecation notices for template filters which separate parameters with `:` delimiter. If this is your case, use `,` to separate filter parameters.
- Fixed CLI resolution inconsistency between `Core` and `ApplicationManager`. remp/crm#2350
- Fixed sourcing of RTM params to session from cookies. remp/crm#2354
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [ClvModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Use double quotes around one single quote.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.

### [CouponModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.
- Changed coupon type filter in the admin to be ajax-based to avoid select2 initialization issue when lots of types are used. remp/crm#2359

### [DashboardModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.

### [FamilyModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [GiftsModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.

### [GooglePlayBillingModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [GopayModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [InvoicesModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Fixed not generating invoices after adding new invoice address, because `NewAddressEvent` fired before changing `$user->invoice` switch. remp/helpdesk#1147

### [IssuesModule]

- **BREAKING**: Renamed issues api actions from default to list. remp/crm#2320
- Changed translation files. remp/crm#2276
  - Use double quotes around one single quote.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [MobiletechModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [OnboardingModule]

- Changed translation files. remp/crm#2276
  - Use double quotes around one single quote.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [PaymentsModule]

- Added average month payment sum caching. remp/crm#1120
  - Changed `TotalUserPayments` widget to load average month payment sum from cache.
- Fixed possibly ambiguous query in Payments listing in CRM admin when advanced filter with data providers is used. remp/crm#2283
- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Use double quotes around one single quote.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Added support to flag recurrent payment gateway as unstoppable to prevent system/users stopping recurrent payments made by these gateways. remp2020/crm-payments-module#18 
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.
- Added support for changing subscription type of existing payments in `form` state. remp/crm#2217

### [PrintModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.

### [PrivatbankarModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Add Slovak translation file (it is used as source for Weblate).
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [ProductsModule]

- Added the prefilling of company name in the case of same billing and shipping address. remp/crm#2251
- Changed translation files. remp/crm#2276
  - Use double quotes around one single quote.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Added the validation of international phone number format into checkout form. remp/crm#2301
- Added shop menu additional items `SimpleWidget` widget placeholder. remp/novydenik#894
- Added sort shop products admin screen. remp/crm#2156

### [RempCampaignModule]

- Removed empty, unused translation files. remp/crm#2276
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [RempMailerModule]

- **BREAKING**: Dropped support for `utm_*` variants when tracking subscribes/unsubscribes.
  - The support was deprecated more than a year ago and by now all of your REMP tools should already have `rtm_*` params support anyway. If you've updated Mailer within the last year, no action is necessary.
- Fixed possibly incorrectly built request to Mailer when unsubscribing user with `rtm_variant` parameter. remp/crm#2277
- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Removed forgotten flag for disabling extension _(do not install extension if you don't want to use it)_. remp/crm#2312
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [RempPythiaModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.

### [SalesFunnelModule]

- Changed translation files. remp/crm#2276
  - Remove duplicated spaces.
  - Use double quotes around one single quote.
  - Move Zlavomat translation string to ZlavomatModule.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [ScenariosModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Use double quotes around one single quote.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Added prevention before contacting unreachable users (inactive, deleted, unclaimed) in e-mail, show banner and push notification nodes. remp/crm#2294
- Added new version of scenario builder tool:
    - Replaced MaterialSelect with Autocomplete in banner, email and goal node. remp/crm#2262
    - Added buttons to adjust the diagram's preview size. remp/crm#2260
- Fixed API handler `ScenariosCreateApiHandler` to use JSON schema for validation. It was failing (400 response) after upgrade to Nette 3. remp/crm#2327
- Added index to `scenarios_jobs` table to improve performance of Scenario Engine job searching queries. remp/crm#2348
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [SegmentModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Added support for configuring segment recalculation period. remp/crm#2074
  - Added form for configuring segment recalculation period.
  - Added default times for hourly and daily recalculated segments. See README for more information.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [SlspSporopayModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.

### [StripeModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [SubscriptionsModule]

- **IMPORTANT**: Changed size of `subscriptions_meta.value` column to `VARCHAR(255)`. remp/crm#2271
  - Open-sourced modules never used/required longer values than 255 characters, therefore this change should not break the functionality. 
  - Longer values will be trimmed to 255 characters.
- Removed obsolete (internal) login tracking on the subscription listing page. remp/novydenik#866
- Changed translation files. remp/crm#2276
  - Use double quotes around one single quote.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Removed forgotten template from import action. This was removed before [SubscriptionsModule] was opensourced. remp/crm#332
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

### [UpgradesModule]

- Changed translation files. remp/crm#2276
  - Fix EOF newlines.
  - Use double quotes around one single quote.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.

### [UsersModule]

- **BREAKING**: Added parameter `newPassword` to `UserChangePasswordEvent`. remp/crm#2331
  - When creating new instances of this event, the new password must be set as the second parameter.
- **BREAKING**: Changed exception code in case `AccessTokenAuthenticator` attempts to log in admin user. 
  - If you depend on this code, change use of `Nette\Security\IAuthenticator::FAILURE` in favor of `Nette\Security\Authenticator::NOT_APPROVED`.
- **BREAKING**: Changed HTTP status code of `/api/v1/user-meta/delete` API from 200 OK to 204 No content.
- Added registration ip rate limiter to limit number registration attempts on API endpoints without authorization. remp/crm#2153
  - Added `registration_attempts` table to store registration attempts.
- Changed translation files. remp/crm#2276
  - Remove duplicated spaces.
  - Fix EOF newlines.
  - Use double quotes around one single quote.
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Fixed partially incorrectly captioned "more options" button in admin filter form.
- Fixed removal of stale cookies when log in using Google or Apple SSO. remp/crm#2114
- Added `code` to JSON responses in `UsersLoginHandler`. remp/crm#2274
- Added optional parameter `newsletters_subscribe` to `UsersCreateHandler`. remp/crm#2275
- Moved autologin token authentication out of `FrontendPresenter` to its own event handler. remp/crm#2328
- Flagging attempted admin autologin attempts to prevent future attempts under the same session. remp/crm#2328
- Fixed incorrectly setting access token cookie for API requests. remp/crm#2177
- Fixed slow listing of login attempts for high-volume login instances. remp/crm#2345
- Fixed Apple Sign-In flow when connecting existing account. remp/crm#2333
- Fixed broken SSO login in corner cases, caused by incorrect deletion of login cookies. remp/crm#2114 
- Added API endpoint for updating users info. remp/crm#2339
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.
- Fixed translation string `users.admin.user_connected_accounts_list` to `users.admin.user_connected_accounts_list_widget`. Remove unused strings. remp/crm#2158
- Changed SSO account matching behaviour in `GoogleSignIn`. Email matching is not done before passing data to data provider `users.dataprovider.google_sign_in`. remp/crm#2229
  - This is because we want to match only already connected accounts before any external matching (via data provider) is done.

### [VubEplatbyModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.

### [WordpressModule]

- Changed translation files. remp/crm#2276
  - Switch tabs to 4 spaces. Weblate can parse only YAML format (doesn't support tabs).
  - Change extension from NEON to YML.
- Changed API handlers (non breaking). remp/crm#2342
  - Changed return type of `handle()` from `Crm\ApiModule\Response\ApiResponseInterface` to `Tomaj\NetteApi\Response\ResponseInterface`.
  - Changed deprecated `Crm\ApiModule\Api\JsonResponse` to `Tomaj\NetteApi\Response\JsonApiResponse`.

## Nette 3.1 upgrade

### [AdminModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Removed calling parent constructor from widgets. Constructor was removed from `Nette\ComponentModel\Component`. remp/crm#1979
- Fixed link in template. Internal `Nette\Routing\Route::param2path()` now strictly requires string (object identification) instead of whole object. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Security\IAuthorizator` to `Nette\Security\Authorizator`. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979
- Changed deprecated `{ifCurrent 'link'}` latte tag to `{isLinkCurrent('link')}` latte function. remp/crm#1979
- Removed use of deprecated `Presenter->getContext()`. Injecting container into `BasePresenter`. remp/crm#1979

### [ApiModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Added `void` return type to API responses, interface `\Nette\Application\IResponse::send()` changed. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979
- Removed `Crm\ApiModule\Api\JsonResponse` parent. It doesn't extend `Nette\Application\Responses\JsonResponse` anymore. Nette's `JsonResponse` is now final class. This isn't breaking change, CRM doesn't expect use of parent class in APIs. remp/crm#1979

#### Nette 3.1

- Changed the way how routes are added to router. From array `$router[] = new Route()` to method call `$router->addRoute()`. remp/crm#1979
- Changed deprecated `Nette\Application\IResponse` to `Nette\Application\Response`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Security\IAuthorizator` to `Nette\Security\Authorizator`. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [AppleAppstoreModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [ApplicationModule]

#### Nette 3.0

- **BREAKING**: Update Nette composer packages from Nette v2.4 to Nette v3.0. remp/crm#1979
- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Added return types to implementations where Nette interfaces changed. remp/crm#1979
- Fixed renamed Nette extension; from `\WebChemistry\Forms\Controls\DI\MultiplierExtension` to `\Contributte\FormMultiplier\DI\MultiplierExtension`. remp/crm#1979
- Added return types to `ActiveRow`, `DataRow` and `Selection` implementations after interfaces changed. remp/crm#1979
- Fixed `ApplicationMountManager`. Call parent constructor to preset filesystems when Nette container is initialized. remp/crm#1979
- Removed calling parent constructor from widgets. Constructor was removed from `Nette\ComponentModel\Component`. remp/crm#1979
- Fixed issue caused by changes in internal `Nette\DI\Helpers::autowireArguments()`. remp/crm#1979
  - Our `Crm\ApplicationModule\Widget\BaseWidget::createComponent()` depends on it for setting component arguments.
  - Solution taken from `\Kdyby\Autowired\AutowireComponentFactories::createComponent()`.
- Updated `netteForms.js` to newest version used by nette/forms 3.0.*. remp/crm#1979
- Updated conditions expecting false from `Selection::fetch()`. Null is returned instead of false after update to Nette 3.0. remp/crm#2142

#### Nette 3.1

- Changed the way how routes are added to router. From array `$router[] = new Route()` to method call `$router->addRoute()`. remp/crm#1979
- Changed deprecated `Nette\Application\UI\ITemplate` to `Nette\Application\UI\Template`. remp/crm#1979
- Moved `Nette\Configurator` to `Nette\Bootstrap\Configurator`. remp/crm#1979
  - Used in `Core.php`. If you have own `Core` implementation, check (and fix) import of `Configurator`.
- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979
- Changed deprecated `{ifCurrent 'link'}` latte tag to `{isLinkCurrent('link')}` latte function. remp/crm#1979
- Fixed integration of `contributte\forms-multiplier` extension. After update to `Nette 3.1` and newest version of extension, Multiplier stopped working. remp/crm#1979
- Updated `kdyby/translation` to `dev-master`. No tagged release _(from september 2019)_ works with Nette 3.1. Fortunately `dev-master` works. Will be switched to `contributte/translation` in near future (remp/crm#2190). remp/crm#1979
- Changed `DataRow` (which extended deprecated `Nette\Database\Table\IRow`) to `ActiveRowFactory` (which returns `ActiveRow`. remp/crm#1979
- Changed injecting of `\Crm\ApplicationModule\Graphs\GraphData` to automatic DI instead of manual load. remp/crm#1979

### [ClvModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [CouponModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [DashboardModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

### [FamilyModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979

#### Nette 3.1

- Changed `Nette\Forms` access to values from `$form->values['form_field']` to `$form->getValues()['form_field']`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [GiftsModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [GooglePlayBillingModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [GoPayModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Application\IResponse` to `Nette\Application\Response`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [InvoicesModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979
- Updated conditions expecting false from `Selection::fetch()`. Null is returned instead of false after update to Nette 3.0. remp/crm#2142

#### Nette 3.1

- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [IssuesModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Application\IResponse` to `Nette\Application\Response`. remp/crm#1979
- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [MobiletechModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Refactored all uses of `Nette\Security\Passwords`.  class is now used as an object and methods are no longer static. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [OnboardingModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Removed calling parent constructor from widgets. Constructor was removed from `Nette\ComponentModel\Component`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Application\IResponse` to `Nette\Application\Response`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [PaymentsModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979
- Updated conditions expecting false from `Selection::fetch()`. Null is returned instead of false after update to Nette 3.0. remp/crm#2142

#### Nette 3.1

- Changed the way how routes are added to router. From array `$router[] = new Route()` to method call `$router->addRoute()`. remp/crm#1979
- Changed deprecated `Nette\Application\IResponse` to `Nette\Application\Response`. remp/crm#1979
- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979
- Changed deprecated `{ifCurrent 'link'}` latte tag to `{isLinkCurrent('link')}` latte function. remp/crm#1979
- Changed `DataRow` (which extended deprecated `Nette\Database\Table\IRow`) to `ActiveRowFactory` (which returns `ActiveRow`. remp/crm#1979
- Changed injecting of `\Crm\ApplicationModule\Graphs\GraphData` to automatic DI instead of manual load. remp/crm#1979

### [PrintModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [PrivatbankarModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [ProductsModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Removed calling parent constructor from widgets. Constructor was removed from `Nette\ComponentModel\Component`. remp/crm#1979
- Fixed deprecation of second parameter `$whenBrowserIsClosed` in `Nette\Security\User->setExpiration()` used within sign-in. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979
- Fixed capitalized class name `JSON` to `Json` (`Nette\Utils\Json`). remp/crm#1979

#### Nette 3.1

- Changed the way how routes are added to router. From array `$router[] = new Route()` to method call `$router->addRoute()`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979
- Fixed deprecated use of vars without dollar sign. `{var myVariable = ...}` changed to `{var $myVariable = ...}`. remp/crm#1979

### [RempCampaignModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Application\IResponse` to `Nette\Application\Response`. remp/crm#1979

### [RempMailerModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Removed calling parent constructor from widgets. Constructor was removed from `Nette\ComponentModel\Component`. remp/crm#1979
- Fixed use of `Nette\Utils\Json::decode()` - second parameter should be `Nette\Utils\Json::FORCE_ARRAY`, not `true`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979
- Changed `DataRow` (which extended deprecated `Nette\Database\Table\IRow`) to `ActiveRowFactory` (which returns `ActiveRow`. remp/crm#1979

### [RempPythiaModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [SalesFunnelModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Fixed `SalesFunnelRouter` after interface was renamed (`Nette\Application\IRouter` to `Nette\Routing\Router`) and refactored. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979
- Fixed capitalized class name `JSON` to `Json` (`Nette\Utils\Json`). remp/crm#1979

#### Nette 3.1

- **BREAKING**: Changed signature of `AbstractFunnelDistribution::prepareInsertRow`. Second parameter now expects `ArrayHash` instead of `ActiveRow`.
  - Nette doesn't return `ActiveRow` for raw database queries executed by `database->query($sql)->fetchAll()`. To comply with this change CRM needed to change the abstract class.
  - If you extend `AbstractFunnelDistribution`, update the signature of the `prepareInsertRow` method.
- Changed the way how routes are added to router. From array `$router[] = new Route()` to method call `$router->addRoute()`. remp/crm#1979
- Changed deprecated `Nette\Application\IResponse` to `Nette\Application\Response`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Http\Request::getPost()` use. There is no `$default` parameter anymore, use of `??` is advised.

### [ScenariosModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Added return types to implementations where Nette interfaces changed. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979

### [SegmentModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979
- Updated conditions expecting false from `Selection::fetch()`. Null is returned instead of false after update to Nette 3.0. remp/crm#2142

#### Nette 3.1

- Changed deprecated `Nette\Application\IResponse` to `Nette\Application\Response`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979

### [SlspSporopayModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

### [StripeModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979
- Removed use of deprecated `Presenter->getContext()`. Injecting container into `BasePresenter`. remp/crm#1979

### [SubscriptionsModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Removed calling parent constructor from widgets. Constructor was removed from `Nette\ComponentModel\Component`. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979
- Updated conditions expecting false from `Selection::fetch()`. Null is returned instead of false after update to Nette 3.0. remp/crm#2142

#### Nette 3.1

- Changed the way how routes are added to router. From array `$router[] = new Route()` to method call `$router->addRoute()`. remp/crm#1979
- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979
- Fixed `SubscriptionTypesFormFactory->validateItemsAmount()` after upgrade to Nette 3.1. Using `$form->getUnsafeValues()` to load values for further validation. Invalid form now doesn't return all values within `$form->getValues()` for validation (¯\_(ツ)_/¯). remp/crm#1979

### [UpgradesModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [UsersModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Added return types to implementations where Nette interfaces changed. remp/crm#1979
- Removed calling parent constructor from widgets. Constructor was removed from `Nette\ComponentModel\Component`. remp/crm#1979
- Fixed link in template. Internal `Nette\Routing\Route::param2path()` now strictly requires string (object identification) instead of whole object. remp/crm#1979
- Fixed deprecation of second parameter `$whenBrowserIsClosed` in `Nette\Security\User->setExpiration()` used within sign-in. remp/crm#1979
- Refactored all uses of `Nette\Security\Passwords`.  class is now used as an object and methods are no longer static. remp/crm#1979
- Fixed type error when trying to restore request. Method `restoreRequest()` requires string, non null parameter. Restoring request only if `back` parameter is non-null. remp/crm#1979
- Changed `nette/forms` method from `setAttribute()`  to `setHtmlAttribute()`. remp/crm#1979
- Fixed use of `Nette\Utils\Json::decode()` - second parameter should be `Nette\Utils\Json::FORCE_ARRAY`, not `true`. remp/crm#1979
- Fixed capitalized class name `JSON` to `Json` (`Nette\Utils\Json`). remp/crm#1979
- Updated conditions expecting false from `Selection::fetch()`. Null is returned instead of false after update to Nette 3.0. remp/crm#2142

#### Nette 3.1

- Changed `Nette\Forms` access to values from `$form->values['form_field']` to `$form->getValues()['form_field']`. remp/crm#1979
- Changed the way how routes are added to router. From array `$router[] = new Route()` to method call `$router->addRoute()`. remp/crm#1979
- Changed deprecated `Nette\Application\IResponse` to `Nette\Application\Response`. remp/crm#1979
- Changed deprecated `Nette\Caching\IStorage` to `Nette\Caching\Storage`. remp/crm#1979
- Changed deprecated `Nette\Database\Context` to `Nette\Database\Explorer`. remp/crm#1979
- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Security\IAuthorizator` to `Nette\Security\Authorizator`. remp/crm#1979
- Changed deprecated `Nette\Security\Identity` to `Nette\Security\SimpleIdentity`. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979

### [VubEplatbyModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979

### [WordpressModule]

#### Nette 3.0

- Changed `Compiler::loadDefinitions()` _(deprecated)_ to `CompilerExtension->loadDefinitionsFromConfig()`. remp/crm#1979
- Refactored all uses of `Nette\Security\Passwords`.  class is now used as an object and methods are no longer static. remp/crm#1979

#### Nette 3.1

- Changed deprecated `Nette\Database` classes. `Nette\Database\IRow` and `Nette\Database\Table\IRow` are deprecated. Using `Nette\Database\Table\ActiveRow` instead. remp/crm#1979
- Changed deprecated `Nette\Security\IAuthorizator` to `Nette\Security\Authorizator`. remp/crm#1979
- Changed deprecated `Nette\Localization\ITranslator` to `Nette\Localization\Translator`. remp/crm#1979
